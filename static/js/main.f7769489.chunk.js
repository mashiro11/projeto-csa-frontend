(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{207:function(e,t,n){e.exports=n.p+"static/media/Logo.c39acf17.svg"},211:function(e,t,n){e.exports=n.p+"static/media/praticas.bf21c769.jpg"},213:function(e,t,n){e.exports=n(469)},447:function(e,t,n){},468:function(e,t,n){},469:function(e,t,n){"use strict";n.r(t);n(214),n(263);var a=n(0),l=n.n(a),r=n(206),i=n.n(r),o=(n(447),n(4)),c=n(50),s=l.a.createContext(window.innerWidth>=660?"DESKTOP":"MOBILE"),u=l.a.createContext({}),m=n(14),d={WHAT_IS:{text:"O que \xe9 CSA",link:"/o-que-e-csa"},CSAS:{text:"Comunidades",link:"/csas"},PRACTICES:{text:"Pr\xe1ticas",link:"/rotinas"},TOPICS:{text:"Conversas",link:"/conversas"},ABOUT:{text:"Sobre o site",link:"/sobre"}},E=function(e){var t=e.style,n=e.onClick;return l.a.createElement("svg",{style:t,onClick:n,width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fill:"black",fillOpacity:"0.3",d:"M19 3.16669C10.26 3.16669 3.16663 10.26 3.16663 19C3.16663 27.74 10.26 34.8334 19 34.8334C27.74 34.8334 34.8333 27.74 34.8333 19C34.8333 10.26 27.74 3.16669 19 3.16669ZM19 7.91669C21.6283 7.91669 23.75 10.0384 23.75 12.6667C23.75 15.295 21.6283 17.4167 19 17.4167C16.3716 17.4167 14.25 15.295 14.25 12.6667C14.25 10.0384 16.3716 7.91669 19 7.91669ZM19 30.4C15.0416 30.4 11.5425 28.3734 9.49996 25.3017C9.54746 22.1509 15.8333 20.425 19 20.425C22.1508 20.425 28.4525 22.1509 28.5 25.3017C26.4575 28.3734 22.9583 30.4 19 30.4Z"}))},v=n(207),g=n.n(v),f=function(e){var t=e.style,n=e.onClick;return l.a.createElement("svg",{style:t,onClick:n,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fill:"black",opacity:"0.54",fillRule:"evenodd",clipRule:"evenodd",d:"M3 18H21V16H3V18V18ZM3 13H21V11H3V13V13ZM3 6V8H21V6H3Z"}))},p={spacer:{height:61},container:{position:"fixed",top:"0",left:"0",width:"100%",height:61,backgroundColor:"#EEEEEE",fontSize:14,fontFamily:"Roboto",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",zIndex:10},menuIcon:{position:"absolute",left:20,top:20},logoD:{position:"absolute",left:20,top:8,width:"auto"},logoM:{textAlign:"center",display:"block",marginTop:8,marginRight:"auto",marginLeft:"auto"},linksUser:{position:"absolute",display:"flex",flexDirection:"row",right:10,top:12},linksContainer:{display:"flex",height:"20px",position:"relative",top:10,justifyContent:"flex-end",color:"inherit",textDecoration:"none"},pageLink:{marginRight:10,paddingRight:10,borderRight:"1px solid #686868"}},C=function(){var e=l.a.useContext(s),t=l.a.useContext(u);return l.a.createElement("div",null,l.a.createElement("div",{style:p.container},"MOBILE"===e?l.a.createElement(f,{style:p.menuIcon}):null,l.a.createElement(m.b,{style:"DESKTOP"===e?p.logoD:p.logoM,to:"/"},l.a.createElement("img",{src:g.a,style:{textAlign:"inherit"},alt:"CSAs Bras\xedlia"})),l.a.createElement("div",{style:p.linksUser},"DESKTOP"===e?l.a.createElement("div",{style:p.linksContainer},Object.values(d).map((function(e,t){return l.a.createElement(m.b,{style:p.pageLink,to:e.link,key:t},e.text)}))):null,l.a.createElement(m.b,{to:"/login"},t.username?l.a.createElement("img",{src:"https://i.pravatar.cc/38",alt:"user",className:"avatar"}):l.a.createElement(E,null)))),l.a.createElement("div",{style:p.spacer}))},h=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Em constru\xe7\xe3o."))},b=function(){return l.a.createElement("div",null,"Sobre")},x=n(95),y=n(96),w=n(210),S=n.n(w),O="https://csa-strapi-backend.herokuapp.com/",k=function(e,t,n,a,l,r){var i,o;console.log("request:",e,t,l),S()({method:e,url:(o=t,O+o),data:l,headers:r?{Authorization:"Bearer ".concat((i=document.cookie,i.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return Object(y.a)({},e,Object(x.a)({},t[0].trim(" "),t[1]))}),{})).jwt)}:null}).then((function(e){console.log("response:",e);var t=e.data;n(t)})).catch((function(e){a(e)}))},L=function(e){var t=e.tryagainTime,n=e.onTryAgain,a=l.a.useState(t),r=Object(o.a)(a,2),i=r[0],c=r[1];return l.a.useEffect((function(){i<=0?n():window.setTimeout((function(){return c(i-1)}),1e3)}),[i]),l.a.createElement("div",null,"Problema de conex\xe3o. Tentando novamente em ",i," segundos.")},A=function(e){var t=e.label,n=e.forceState,a=(e.children,e.initialState),r=e.onClick,i=l.a.useState(a),c=Object(o.a)(i,2),s=c[0],u=c[1];return n!==s&&u(n),l.a.createElement("div",{style:{position:"relative",display:"flex",flexOrientation:"horizontal"}},l.a.createElement("div",{style:{position:"relative",top:0}},l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(){u(!s),r&&r(!s)}},l.a.createElement("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2",stroke:s?"#009688":"rgba(0,0,0,0.38)"}),s?l.a.createElement("circle",{fill:"#009688",cx:"12",cy:"12",r:"6"}):null)),l.a.createElement("div",null,t))},T={container:function(e){return"MOBILE"===e?{cursor:"pointer",color:"#009688",backgroundColor:"#EEEEEE",paddingTop:10,paddingBottom:10,paddingLeft:20}:{backgroundColor:"#EEEEEE",paddingBottom:10,width:250,flaxGrow:1}},filterQuant:{display:"inline-block",color:"#FFFFFF",fontSize:12,backgroundColor:"#009688",paddingRight:5,paddingLeft:5,borderRadius:"50%",fontWeight:"bold"}},N=function(e){var t=e.rotate;return l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{transform:"rotate(".concat(t,", 12, 12)"),fill:"#009688",d:"M7 10L12 15L17 10H7Z"}))},j={textLabel:{fontSize:14,color:"#009688",cursor:"pointer"},buttonLabel:{backgroundColor:"#E0E0E0",cursor:"pointer",marginLeft:-20,paddingLeft:50,paddingTop:10,paddingBottom:10}},B=function(e){var t=e.labelType,n=e.label,a=e.children,r=e.openLabel,i=e.closeLabel,c=e.initialState,s=e.moveLabelDown,u=l.a.useState("open"===c),m=Object(o.a)(u,2),d=m[0],E=m[1];return l.a.createElement("div",null,d?l.a.createElement("div",null,s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,a),l.a.createElement("div",{style:"text"===t?j.textLabel:j.buttonLabel,onClick:function(){return E(!d)}},i||n,"text"===t?l.a.createElement(N,{rotate:"180"}):null)):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:"text"===t?j.textLabel:j.buttonLabel,onClick:function(){return E(!d)}},i||n,"text"===t?l.a.createElement(N,{rotate:"180"}):null),l.a.createElement("div",null,a))):l.a.createElement("div",null,l.a.createElement("div",{style:"text"===t?j.textLabel:j.buttonLabel,onClick:function(){return E(!d)}},r||n,"text"===t?l.a.createElement(N,{rotate:"0"}):null)))},R=function(e){var t=e.style;return l.a.createElement("svg",{style:t,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("g",{clipPath:"url(#clip0)"},l.a.createElement("path",{fill:"black",fillOpacity:"0.33",d:"M14.8114 13.1862L11.8892 10.2175C11.7591 10.0853 11.5789 10.004 11.3888 10.004H10.9084C11.7191 8.95683 12.1994 7.625 12.1994 6.1915C12.1994 2.7755 9.46731 0 6.09471 0C2.7221 0 0 2.7755 0 6.1915C0 9.6075 2.73211 12.383 6.09471 12.383C7.51581 12.383 8.81681 11.895 9.84761 11.0715V11.5595C9.84761 11.7527 9.91766 11.9357 10.0578 12.0678L12.98 15.0365C13.2602 15.3212 13.7006 15.3212 13.9708 15.0365L14.8014 14.1927C15.0816 13.9182 15.0816 13.4708 14.8114 13.1862ZM6.09471 10.004C4.02311 10.004 2.34181 8.296 2.34181 6.1915C2.34181 4.087 4.02311 2.379 6.09471 2.379C8.16631 2.379 9.84761 4.087 9.84761 6.1915C9.84761 8.30617 8.17632 10.004 6.09471 10.004Z"})),l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clip0"},l.a.createElement("rect",{width:"15.0116",height:"15.25",fill:"white"}))))},M={container:{border:"gray solid 1px",borderRadius:5,backgroundColor:"white",marginLeft:-10,marginRight:10,padding:5},input:{border:"none",height:20,fontSize:12,width:197,":focus":{outline:"none"},outline:"none"},icon:{marginRight:3}},V=function(e){var t=e.value,n=e.setValue,a=e.placeholder;return l.a.createElement("div",{style:M.container},l.a.createElement(R,{style:M.icon}),l.a.createElement("input",{style:M.input,type:"text",value:t,placeholder:a,onChange:function(e){return n(e.target.value)}}))},P=function(e){var t=e.label,n=e.checked,a=e.onCheck,r=l.a.useState(n),i=Object(o.a)(r,2),c=i[0],s=i[1];return l.a.createElement("div",{style:{position:"relative",display:"flex",flexOrientation:"horizontal"}},l.a.createElement("span",{style:{position:"relative",top:0}},c?l.a.createElement("svg",{onClick:function(){s(!c),a(!c)},width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fill:"#009688",d:"M20.8 3H6.23997C5.08557 3 4.15997 3.95931 4.15997 5.13181V20.0545C4.15997 21.227 5.08557 22.1863 6.23997 22.1863H20.8C21.9544 22.1863 22.88 21.227 22.88 20.0545V5.13181C22.88 3.95931 21.9544 3 20.8 3ZM11.44 17.9227L6.23997 12.5931L7.70637 11.0902L11.44 14.9062L19.3336 6.81594L20.8 8.32952L11.44 17.9227Z"})):l.a.createElement("svg",{onClick:function(){s(!c),a(!c)},width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fill:"black",fillOpacity:"0.38",d:"M19.7917 5.20833V19.7917H5.20833V5.20833H19.7917ZM19.7917 3.125H5.20833C4.0625 3.125 3.125 4.0625 3.125 5.20833V19.7917C3.125 20.9375 4.0625 21.875 5.20833 21.875H19.7917C20.9375 21.875 21.875 20.9375 21.875 19.7917V5.20833C21.875 4.0625 20.9375 3.125 19.7917 3.125Z"}))),l.a.createElement("span",null,t))},D=function(e){var t=e.filterOptions,n=e.onSelect,a=e.sortFunctions,r=l.a.useContext(s),i=l.a.useState(""),c=Object(o.a)(i,2),u=c[0],m=c[1],d=l.a.useState([!0,!1,!1,!1]),E=Object(o.a)(d,2),v=E[0],g=E[1];return l.a.createElement("div",{style:T.container(r)},l.a.createElement("h3",{style:{paddingLeft:20}},"FILTROS"),l.a.createElement("hr",null),l.a.createElement("div",{style:{paddingLeft:20}},l.a.createElement("div",null,l.a.createElement("div",{className:"orange"},"COMENT\xc1RIOS"),l.a.createElement("h5",null,"Ordenar por:"),l.a.createElement("div",null,["\xdaltimas comentadas","Primeiras comentadas","Mais comentadas","Menos comentadas"].map((function(e,t){return l.a.createElement(A,{key:t,label:e,forceState:v[t],onClick:function(e){if(e){var n=[!1,!1,!1,!1];n[t]=!0,g(n),a[t]()}}})}))),l.a.createElement("div",null,l.a.createElement("div",{className:"orange"},"TEMA DA CONVERSA"),l.a.createElement("h5",null,"Praticas relacionadas ao tema"),l.a.createElement(B,{initialState:"closed",moveLabelDown:!0,labelType:"text",openLabel:"Selecione uma ou mais pr\xe1ticas",closeLabel:"Fechar lista de pr\xe1ticas"},l.a.createElement(V,{value:u,setValue:m,placeholder:"Busque pr\xe1ticas ou selecione abaixo"}),null===t||void 0===t?void 0:t.map((function(e,t){var a;return l.a.createElement(B,{key:t,labelType:"button",label:e.name,initialState:"open"},null===(a=e.routines)||void 0===a?void 0:a.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())})).map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement(P,{label:e.name,onCheck:n(e.name)}))})))})),l.a.createElement(B,{labelType:"button",label:"Outros",initialState:"close"},l.a.createElement("div",null,l.a.createElement(P,null),"Outras pr\xe1ticas"))),l.a.createElement("div",null,"LIMPAR FILTROS")))))},I=function(e){var t=e.csa;return l.a.createElement("div",null,l.a.createElement(m.b,{to:"csas/csa/".concat(t.id)},t.nome))},H=function(){var e=l.a.useContext(s),t=l.a.useState([]),n=Object(o.a)(t,2),a=n[0],r=n[1],i=l.a.useState({}),c=Object(o.a)(i,2),u=c[0],m=c[1],d=function(e){u.isAxiosError||m(e)};return l.a.useEffect((function(){return k("get","csas",r,d)}),[u]),l.a.createElement("div",null,"MOBILE"===e?l.a.createElement("div",null,"Filtros"):l.a.createElement(D,null),u.isAxiosError?l.a.createElement(L,{tryagainTime:5,onTryAgain:function(){return m({})}}):l.a.createElement("div",null,"LISTA DE CSAS:",a.length?null:l.a.createElement("div",null," Buscando CSAs..."),l.a.createElement("div",null,a.map((function(e,t){return l.a.createElement(I,{csa:e})})))))},F=function(e){e.selected;var t=e.onSelected,n=e.labels;e.children;return l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",displayOrientation:"horizontal"}},n.map((function(e,n){return l.a.createElement("div",{onClick:t},e)}))))},Z=function(e){l.a.useContext(u);var t,n,a,r,i,c=l.a.useState({}),s=Object(o.a)(c,2),m=s[0],d=s[1],E=l.a.useState({}),v=Object(o.a)(E,2),g=v[0],f=v[1],p=l.a.useState(0),C=Object(o.a)(p,2),h=C[0],b=(C[1],function(e){g.isAxiosError||f(e)});return l.a.useEffect((function(){return k("get","csas/".concat(e.match.params.id),d,b)}),[g]),l.a.createElement("div",null,g.isAxiosError?l.a.createElement(L,{tryagainTime:5,onTryAgain:function(){return f({})}}):m.id?l.a.createElement("div",null,l.a.createElement("div",{className:"bannerContainer"},l.a.createElement("div",{className:"bannerTitle"},m.nome)),l.a.createElement(F,{selected:h,labels:["Perfil","Gest\xe3o"]}),0===h?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",null,"Agricultores:"),l.a.createElement("div",null,null===(t=m.agricultores)||void 0===t?void 0:t.map((function(e,t){return l.a.createElement("div",{key:t},e.name)}))),l.a.createElement("div",null,"Trabalhadores rurais:"),l.a.createElement("div",null,null===(n=m.workers)||void 0===n?void 0:n.map((function(e,t){return l.a.createElement("div",{key:t},e.name)}))),l.a.createElement("div",null,"Local de produ\xe7\xe3o:"),l.a.createElement("div",null,null===(a=m.workers)||void 0===a?void 0:a.map((function(e,t){return l.a.createElement("div",{key:t},e.name)}))),l.a.createElement("div",null,"Tipo de produ\xe7\xe3o:"),l.a.createElement("div",null,null===(r=m.productionTypes)||void 0===r?void 0:r.map((function(e,t){return l.a.createElement("div",{key:t},e.name)}))),l.a.createElement("div",null,"Cotas dispon\xedveis:"),m.vacancy?l.a.createElement("div",null,"Sim"):l.a.createElement("div",null,"N\xe3o")),l.a.createElement("div",null,l.a.createElement("div",{className:"orange"},"PONTO DE CONVIV\xcaNCIA"),l.a.createElement("div",null,null===(i=m.meetingPoints)||void 0===i?void 0:i.map((function(e,t){return l.a.createElement("div",{key:t},e.location)})))),l.a.createElement("div",null,l.a.createElement("div",{className:"orange"},"NOSSO MODO DE SER"),l.a.createElement("div",null,l.a.createElement("div",null,"Comunidade formada dia PPPPPPPPP"),l.a.createElement("div",null,m.description))),l.a.createElement("div",null,l.a.createElement("div",{className:"orange"},"NOSSAS FOTOS"),l.a.createElement("div",null,m.pictures),l.a.createElement("div",null,"Ver mais fotos")),l.a.createElement("div",null,l.a.createElement("div",{className:"orange"},"NOSSOS V\xcdDEOS"),l.a.createElement("div",null,m.videos),l.a.createElement("div",null,"Ver mais v\xeddeos")),l.a.createElement("div",null,l.a.createElement("div",{className:"orange"},"CONTATO"),l.a.createElement("div",null,"Contatos")),l.a.createElement("div",null,l.a.createElement("div",{className:"orange"},"D\xdaVIDAS FREQU\xcaNTES"),l.a.createElement("div",null,"D\xfaidas"))):null):l.a.createElement("div",null,"Buscando informa\xe7\xf5es da CSA..."),"}")},z=(n(468),function(e){var t=e.title,n=e.image;return l.a.createElement("div",{className:"bannerContainer",style:{backgroundImage:"url(".concat(n,")")}},l.a.createElement("div",{className:"bannerTitle"},t))}),U=n(211),W=n.n(U),K=function(){var e=l.a.useState([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=l.a.useState({}),i=Object(o.a)(r,2),c=i[0],s=i[1],u=function(e){c.isAxiosError||s(e)};return l.a.useEffect((function(){return k("get","routine-categories",a,u)}),[c]),l.a.createElement("div",null,l.a.createElement(z,{title:"PR\xc1TICAS",image:W.a}),l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("div",{className:"centeredH",style:{position:"relative",width:700}},l.a.createElement("div",null,"LISTA DE PR\xc1TICAS"),l.a.createElement("hr",null),c.isAxiosError?l.a.createElement(L,{tryagainTime:5,onTryAgain:function(){return s({})}}):0===n.length?l.a.createElement("div",null,"Buscando pr\xe1ticas..."):n.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("div",{style:{backgroundColor:"#E0E0E0"}},e.name),e.routines.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement(m.b,{to:"rotinas/rotina/".concat(e.id)},e.name),l.a.createElement("hr",null))})))})))))},q=function(e){var t=l.a.useContext(u),n=l.a.useState({}),a=Object(o.a)(n,2),r=a[0],i=a[1],c=l.a.useState({}),s=Object(o.a)(c,2),d=s[0],E=s[1],v=function(e){d.isAxiosError||E(e)};return l.a.useEffect((function(){return k("get","routines/".concat(e.match.params.id),i,v)}),[d]),l.a.createElement("div",null,d.isAxiosError?l.a.createElement(L,{tryagainTime:5,onTryAgain:function(){return E({})}}):r?l.a.createElement("div",null,r.name,t.id?l.a.createElement(m.b,{to:{pathname:"/conversas/nova",state:r},className:"button small"},"Adicionar conversa relacionada"):null):l.a.createElement("div",null,"Fetchin data..."))},G=n(56),Q=function(e,t){var n=e.substring(0,e.indexOf("T")).split("-");(n=n[2]+"/"+n[1]+"/"+n[0],t)&&(n+=" "+e.substring(e.indexOf("T")+1,e.indexOf(":",e.indexOf(":")+1)));return n},J={container:{position:"relative",flexDirection:"horizontal",paddingLeft:20,paddingRight:20},responses:{color:"#000000"},latestUpdate:{display:"flex",flexDirection:"column",textAlign:"center",color:"#979797",paddingRight:15}},$=function(e){var t=e.topic;return l.a.createElement("div",null,l.a.createElement("div",{className:"onExtremes",style:J.container},l.a.createElement(m.b,{to:"conversas/conversa/".concat(t.id),style:J.link},t.name),t.messages[0]?l.a.createElement("div",{style:J.latestUpdate},l.a.createElement("div",{style:J.responses},t.messages.length),l.a.createElement("div",null,"\xfaltimo em"),l.a.createElement("div",null,Q(t.messages[t.messages.length-1].createdAt))):null),l.a.createElement("hr",null))},_=n(97),X=n.n(_),Y={contentContainer:function(e){return"DESKTOP"===e?{display:"flex",flexDirection:"row",padding:25}:null},bannerContainer:{display:"flex",alignItems:"center",backgroundImage:"url(".concat(X.a,")"),backgroundSize:"cover",backgroundPosition:"center",minHeight:190,maxHeight:250},bannerTitle:{display:"inline-block",marginLeft:"auto",marginRight:"auto",borderRadius:5,textAlign:"center",backgroundColor:"white",height:25,paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15}},ee=function(){var e=l.a.useContext(s),t=l.a.useContext(u),n=l.a.useState([]),a=Object(o.a)(n,2),r=a[0],i=a[1],c=l.a.useState([]),d=Object(o.a)(c,2),E=d[0],v=d[1],g=l.a.useState([]),f=Object(o.a)(g,2),p=f[0],C=f[1],h=l.a.useState({}),b=Object(o.a)(h,2),x=b[0],y=b[1],w=function(e){x.isAxiosError||y(e)},S=function(e){i(e.sort((function(e,t){var n=new Date(e.messages[e.messages.length-1].createdAt),a=new Date(t.messages[t.messages.length-1].createdAt);return n.getTime()>a.getTime()?-1:1})))},O=function(e){return function(){var t=Object(G.a)(r),n=0===e?-1:1,a=0===e?1:-1;console.log("order:",e),console.log("first:",n,"second:",a),i(t.sort((function(e,t){return e.messages.length<t.messages.length?n:a})))}},A=function(e){return function(){var t=Object(G.a)(r),n=0===e?-1:1,a=0===e?1:-1;i(t.sort((function(e,t){var l=new Date(e.messages[e.messages.length-1].createdAt),r=new Date(t.messages[t.messages.length-1].createdAt);return l.getTime()<r.getTime()?n:a})))}},T=[A(1),A(0),O(1),O(0)];return l.a.useEffect((function(){k("get","topics",S,w),k("get","routine-categories",v,w)}),[x]),l.a.createElement("div",null,l.a.createElement(z,{title:"CONVERSAS",image:X.a}),l.a.createElement("div",{style:Y.contentContainer(e)},"MOBILE"===e?l.a.createElement("span",null,l.a.createElement("span",{className:"textButton",onClick:function(){return console.log("Open drawer")}},"Filtros"),l.a.createElement("span",null," "),l.a.createElement("span",{style:Y.filterQuant},"5")):l.a.createElement(D,{filterOptions:E,onSelect:function(e){return function(t){C(t?[].concat(Object(G.a)(p),[e]):p.filter((function(t){return t!==e})))}},sortFunctions:T}),l.a.createElement("div",{style:"DESKTOP"===e?{flexGrow:2,marginLeft:30}:null},"DESKTOP"===e?l.a.createElement("div",null,l.a.createElement("div",{className:"onExtremes"},l.a.createElement("h3",null,"LISTA DE CONVERSAS"),t.username?l.a.createElement("div",{style:{alignSelf:"center"}},l.a.createElement(m.b,{className:"button small",to:"/conversas/nova"},"NOVA CONVERSA")):null),l.a.createElement("hr",{style:{marginTop:0}})):null,l.a.createElement("div",{className:"onExtremes",style:{paddingLeft:20,paddingRight:20}},l.a.createElement("div",{className:"orange"},"TEMAS"),l.a.createElement("div",{className:"orange"},"COMENT\xc1RIOS")),l.a.createElement("hr",null),x.isAxiosError>0?l.a.createElement(L,{tryagainTime:5,onTryAgain:function(){return y({})}}):0===r.length?l.a.createElement("div",null,"Buscando dados das csas..."):r.filter((function(e){var t;return null===(t=e.routines)||void 0===t?void 0:t.some((function(e){return!(p.length>0)||p.includes(e.name)}))})).map((function(e,t){return l.a.createElement($,{topic:e,key:t})}))),t.username&&"MOBILE"===e?l.a.createElement(m.b,{to:"/conversas/nova",className:"button large centeredH"},"NOVA CONVERSA"):null))},te=function(e){var t=e.onClick;return l.a.createElement("svg",{onClick:t,width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fill:"black",fillOpacity:"0.38",d:"M4.21112 10C3.27381 10 2.33649 10 1.39918 10C1.0392 10 0.679214 9.97923 0.31923 9.96539C0.108674 9.95847 0 9.83386 0 9.61927C0 9.03087 0 8.44248 0 7.84716C0 7.61872 0.115466 7.50104 0.353191 7.49412C0.645253 7.4872 0.944107 7.50104 1.23617 7.48719C1.31088 7.48719 1.39918 7.45258 1.46031 7.40413C1.70483 7.2103 1.94934 7.00955 2.18707 6.80188C2.62856 6.42116 3.14476 6.23425 3.72209 6.23425C4.70016 6.23425 5.67143 6.23425 6.6495 6.23425C7.04344 6.23425 7.31513 6.48346 7.32192 6.84342C7.32871 7.20338 7.06382 7.48027 6.66308 7.48719C6.20122 7.49412 5.74615 7.4872 5.28428 7.49412C5.20957 7.49412 5.13485 7.50104 5.06693 7.52181C4.93788 7.56334 4.86996 7.66025 4.86996 7.7987C4.86996 7.93715 4.93109 8.0479 5.06693 8.08944C5.12806 8.1102 5.20278 8.11713 5.2707 8.11713C5.97708 8.11713 6.67667 8.11713 7.38305 8.11713C7.72266 8.11713 8.01472 8.00637 8.27282 7.79178C8.67356 7.45951 9.07429 7.12723 9.48182 6.80188C9.65162 6.66344 9.83501 6.53191 10.0116 6.40731C10.2969 6.20656 10.6637 6.25502 10.8606 6.52499C11.078 6.82265 11.044 7.16877 10.7384 7.41105C10.2833 7.78485 9.81463 8.13789 9.35956 8.50478C8.87732 8.89243 8.40187 9.28008 7.92642 9.67465C7.66153 9.89617 7.36947 9.99308 7.02986 9.99308C6.09255 9.99308 5.14844 10 4.21112 10Z"}),l.a.createElement("path",{fill:"black",fillOpacity:"0.38",d:"M4.89676 3.13342C2.91345 3.07804 1.78596 1.39591 1.84709 0.00452071C2.2682 0.00452071 2.69611 -0.00932396 3.11722 0.011443C3.38211 0.0252877 3.66059 0.0460547 3.90511 0.129123C4.95789 0.509851 5.71181 1.20901 6.01746 2.33735C6.09217 2.6004 6.11934 2.88421 6.12613 3.15418C6.13972 3.84642 6.13293 4.53865 6.13293 5.23781C6.13293 5.5147 6.02425 5.62546 5.75257 5.62546C5.58956 5.62546 5.42654 5.62546 5.25674 5.62546C5.01222 5.61853 4.90355 5.50778 4.90355 5.25857C4.90355 4.6148 4.90355 3.97794 4.90355 3.33416C4.89676 3.27186 4.89676 3.20956 4.89676 3.13342Z"}),l.a.createElement("path",{fill:"black",fillOpacity:"0.38",d:"M9.18253 0.0390721C9.22328 1.49968 8.12974 2.83569 6.77811 3.0849C6.68981 2.69033 6.64227 2.28883 6.51322 1.91502C6.37737 1.5343 6.16682 1.18818 5.99022 0.828218C5.96985 0.821296 5.94268 0.814373 5.9223 0.814373C5.96306 0.786684 6.0106 0.765917 6.05135 0.731305C6.60831 0.281354 7.23998 0.0390721 7.94636 0.0390721C8.35388 0.0321497 8.76141 0.0390721 9.18253 0.0390721Z"}))},ne={container:{display:"flex",paddingRight:20},avatar:{marginTop:5,marginRight:10}},ae=function(e){var t=e.messageOwner;return l.a.createElement("div",{style:ne.container},l.a.createElement("div",{style:ne.avatar},l.a.createElement("img",{className:"avatar",src:"https://i.pravatar.cc/38",alt:"avatar"})),l.a.createElement("div",null,l.a.createElement("h5",{style:{marginBottom:0}},l.a.createElement("span",null,t.username),l.a.createElement(te,null)),l.a.createElement("div",null,l.a.createElement(m.b,{to:""},"CSA do usu\xe1rio"))))},le=function(e){var t=e.onClick;return l.a.createElement("svg",{onClick:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fill:"#009688",d:"M2 12.5C2 9.46 4.46 7 7.5 7H18C20.21 7 22 8.79 22 11C22 13.21 20.21 15 18 15H9.5C8.12 15 7 13.88 7 12.5C7 11.12 8.12 10 9.5 10H17V12H9.41C8.86 12 8.86 13 9.41 13H18C19.1 13 20 12.1 20 11C20 9.9 19.1 9 18 9H7.5C5.57 9 4 10.57 4 12.5C4 14.43 5.57 16 7.5 16H17V18H7.5C4.46 18 2 15.54 2 12.5Z"}))},re={textContainer:{display:"flex",flexOrientation:"row",border:"1px solid #C4C4C4",borderRadius:"5px",padding:5,paddingLeft:3,justifyContent:"space-between"},buttonsContainer:{display:"flex",flexOrientation:"row"},button:{margin:0},textInput:{flexGrow:1,border:0,outline:"none"}},ie=function(e){var t=e.initialValue,n=e.onCancel,a=e.onSend,r=e.onAttach,i=l.a.useState(t||""),c=Object(o.a)(i,2),s=c[0],u=c[1];return l.a.createElement("div",null,l.a.createElement("div",{style:re.textContainer},l.a.createElement("textarea",{style:re.textInput,value:s,onChange:function(e){return u(e.target.value)}}),l.a.createElement(le,{onClick:r})),l.a.createElement("div",{style:re.buttonsContainer},l.a.createElement("div",{className:"button small",style:re.button,onClick:n},"CANCELAR"),l.a.createElement("div",{className:"button small",style:re.button,onClick:a(s)},"ENVIAR")))},oe=function(e){var t=e.onClick;return l.a.createElement("svg",{onClick:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V7H6V19ZM19 4H15.5L14.5 3H9.5L8.5 4H5V6H19V4Z",fill:"#009688"}))},ce=function(e){var t=e.onClick;return l.a.createElement("svg",{onClick:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M3 17.2501V21.0001H6.75L17.81 9.94006L14.06 6.19006L3 17.2501ZM20.71 7.04006C21.1 6.65006 21.1 6.02006 20.71 5.63006L18.37 3.29006C17.98 2.90006 17.35 2.90006 16.96 3.29006L15.13 5.12006L18.88 8.87006L20.71 7.04006Z",fill:"#009688"}))},se={container:{margin:20},time:{marginLeft:48,color:"#979797",fontSize:12},text:{marginTop:10},reply:{cursor:"pointer",textAlign:"right",color:"#009688",fontWeight:500,fontSize:12}},ue=function e(t){var n,a=t.message,r=t.onEdit,i=t.onDelete,c=l.a.useContext(u),s=l.a.useState(!1),m=Object(o.a)(s,2),d=m[0],E=m[1];return l.a.createElement("div",{style:se.container},l.a.createElement("div",{className:"onExtremes"},l.a.createElement(ae,{messageOwner:a.user}),c.id!==a.user.id||d?null:l.a.createElement("div",null,l.a.createElement(ce,{onClick:function(){return E(!0)}}),l.a.createElement(oe,{onClick:i(a.id)}))),l.a.createElement("div",{style:se.time},Q(a.createdAt,!0)),d?l.a.createElement(ie,{initialValue:a.text,onCancel:function(){return E(!1)},onSend:r(a.id)}):l.a.createElement("div",{style:se.text},a.text),null===(n=a.messages)||void 0===n?void 0:n.map((function(t,n){return l.a.createElement(e,{message:t,key:n,onEdit:r,onDelete:i})})))},me={container:{display:"block",position:"relative",paddingLeft:20,paddingRight:20},replyButton:{position:"absolute",right:20}},de=function(e){var t=e.onSend,n=l.a.useState(!1),a=Object(o.a)(n,2),r=a[0],i=a[1];return l.a.createElement("div",{style:me.container},r?l.a.createElement(ie,{onCancel:function(){return i(!1)},onSend:t}):l.a.createElement("div",{className:"textButton",style:me.replyButton,onClick:function(){return i(!0)}}," RESPONDER"))},Ee={header:{padding:20,boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)"},subinfo:{color:"#979797"},messagesList:{paddingTop:10,paddingBottom:20},routinesBox:{marginBottom:20},routines:{marginRight:10,paddingRight:10,borderRight:"1px solid #686868"}},ve=function(e){l.a.useContext(s);var t=l.a.useContext(u),n=l.a.useState({}),a=Object(o.a)(n,2),r=a[0],i=a[1],c=l.a.useState(!1),d=Object(o.a)(c,2),E=d[0],v=d[1],g=l.a.useState({}),f=Object(o.a)(g,2),p=f[0],C=f[1],h=function(t){v(!1),i({}),k("get","topics/".concat(e.match.params.id),i,C)},b=function(e){p.isAxiosError||C(e)},x=function(e,n){k("post","messages",h,b,Object(y.a)({},e,{user:t.id,text:n}),!0)},w=function(e){return function(){k("delete","messages/".concat(e),h,b,null,!0)}},S=function(e){return function(t){return function(){k("put","messages/".concat(e),h,b,{text:t},!0)}}};return l.a.useEffect(h,[p]),l.a.createElement("div",{style:Ee.container},p.isAxiosError?l.a.createElement(L,{tryagainTime:5,onTryAgain:function(){return C({})}}):r.id?l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("header",null,l.a.createElement("div",{className:"content"},l.a.createElement("h2",{style:Ee.title},r.name),l.a.createElement("div",{style:Ee.routinesBox},l.a.createElement("div",{style:Ee.subinfo},"Pr\xe1ticas relacionadas a esse tema"),r.routines.map((function(e,t){return l.a.createElement(m.b,{style:Ee.routines,to:"/rotinas/rotina/".concat(e.id),key:t},e.name)}))))),l.a.createElement("div",{className:"content"},E?l.a.createElement(ie,{onCancel:function(){return v(!1)},onSend:function(e){return function(){return x({topic:r.id},e)}}}):l.a.createElement("div",{style:Ee.messagesList},r.messages.map((function(e,n){return l.a.createElement(l.a.Fragment,{key:n},n>0?l.a.createElement("hr",null):null,l.a.createElement(ue,{message:e,onEdit:S,onDelete:w}),t.id?l.a.createElement(de,{onSend:function(t){return function(){x({message:e.id},t)}}}):null)}))),t.id&&!E?l.a.createElement("div",{className:"button large centeredH",onClick:function(){return v(!0)}},"NOVA MENSAGEM"):null)):l.a.createElement("div",null,"Buscando informa\xe7\xf5es da conversa..."))},ge=function(e){var t=l.a.useContext(u),n=l.a.useState([]),a=Object(o.a)(n,2),r=a[0],i=a[1],s=l.a.useState([]),m=Object(o.a)(s,2),d=m[0],E=m[1],v=l.a.useState({}),g=Object(o.a)(v,2),f=g[0],p=g[1],C=l.a.useState({notSent:!0}),h=Object(o.a)(C,2),b=h[0],x=h[1],y=l.a.useState(""),w=Object(o.a)(y,2),S=w[0],O=w[1],A=l.a.useState(""),T=Object(o.a)(A,2),N=T[0],j=T[1],R=function(e){i(e)},M=function(e){x(e)},V=function(e){f.isAxiosError||p(e)};return l.a.useEffect((function(){var t=e.location.state;t&&E([t.id]),k("get","routines",R,V)}),[f]),l.a.createElement("div",{style:{position:"relative"}},b.id?l.a.createElement(c.a,{to:"/conversas/conversa/".concat(b.id)}):l.a.createElement("div",{style:{margin:"0 auto"}},l.a.createElement("header",null,"Publicar nova conversa"),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",null,"Tema"),l.a.createElement("input",{className:"text",type:"text",value:S,onChange:function(e){return O(e.target.value)}}),l.a.createElement("div",null,"Coment\xe1rio sobre o tema"),l.a.createElement("textarea",{value:N,onChange:function(e){return j(e.target.value)}}),l.a.createElement("div",null,"Anexos"),l.a.createElement("div",{className:"link"},"Insira uma imagem ou um documento"),l.a.createElement("div",null,"Pr\xe1ticas relacionadas ao tema"),l.a.createElement(B,{initialState:"closed",moveLabelDown:!0,labelType:"text",openLabel:"Selecione uma ou mais pr\xe1ticas",closeLabel:"Fechar lista de pr\xe1ticas"},f.isAxiosError?l.a.createElement(L,{tryagainTime:5,onTryAgain:function(){return p({})}}):r?r.map((function(t,n){return l.a.createElement("div",{key:n},l.a.createElement(P,{label:t.name,onCheck:(a=t.id,function(e){console.log("value:",e),E(e?[].concat(Object(G.a)(d),[a]):Object(G.a)(d.filter((function(e){return e!==a}))))}),checked:!!e.location.state&&t.id===e.location.state.id}));var a})):null),l.a.createElement("div",{className:"button",onClick:function(){d.length>0?k("post","topics",M,V,{name:S,routines:d,message:{text:N,user:t.id}},!0):window.alert("Conversas devem ter ao menos uma rotina relacionada!")}},"PUBLICAR")))))},fe=function(){return l.a.createElement("div",null,"O que \xe9 CSA")},pe=function(e){var t=e.setUser,n=l.a.useState(""),a=Object(o.a)(n,2),r=a[0],i=a[1],s=l.a.useState(""),m=Object(o.a)(s,2),d=m[0],E=m[1],v=l.a.useContext(u),g=function(e){document.cookie="jwt=".concat(e.jwt," ;path: ").concat(O),i(""),E(""),t(e.user)},f=function(e){console.log("error:",e)};return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("div",{style:{margin:"0 auto",width:"30%",backgroundColor:"#efefef",padding:30}},"Login:",l.a.createElement("div",null,l.a.createElement("span",null,"Usu\xe1rio:"),l.a.createElement("input",{className:"text",type:"text",value:r,onChange:function(e){return i(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("span",null,"Senha:"),l.a.createElement("input",{className:"text",type:"password",value:d,onChange:function(e){return E(e.target.value)}})),l.a.createElement("button",{onClick:function(){k("post","auth/local",g,f,{identifier:r,password:d})}},"Entrar"),v.username?l.a.createElement(c.a,{to:"/"}):null))},Ce=n(212),he=function(e){var t=e.component,n=Object(Ce.a)(e,["component"]),a=l.a.useContext(u);return l.a.createElement(c.b,Object.assign({},n,{render:function(e){return a.username?l.a.createElement(t,e):l.a.createElement(c.a,{to:"/login"})}}))};var be=function(){var e=l.a.useState(window.innerWidth>=660?"DESKTOP":"MOBILE"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=l.a.useState({}),i=Object(o.a)(r,2),m=i[0],d=i[1];return window.addEventListener("resize",(function(e){document.documentElement.clientWidth>=660&&"MOBILE"===n&&a("DESKTOP"),document.documentElement.clientWidth<660&&"DESKTOP"===n&&a("MOBILE")})),document.cookie.length>0&&!m.username&&k("get","users/me",(function(e){d(e)}),(function(e){console.log(e)}),{},!0),l.a.createElement(u.Provider,{value:m},l.a.createElement(s.Provider,{value:n},l.a.createElement("div",{className:"App"},l.a.createElement(C,null),l.a.createElement(c.d,null,l.a.createElement(c.b,{exact:!0,path:"/",component:h}),l.a.createElement(c.b,{path:"/sobre",component:b}),l.a.createElement(c.b,{exact:!0,path:"/csas",component:H}),l.a.createElement(c.b,{exact:!0,path:"/csas/csa/:id",component:Z}),l.a.createElement(c.b,{exact:!0,path:"/rotinas",component:K}),l.a.createElement(c.b,{path:"/rotinas/rotina/:id",component:q}),l.a.createElement(c.b,{exact:!0,path:"/conversas",component:ee}),l.a.createElement(c.b,{path:"/conversas/conversa/:id",component:ve}),l.a.createElement(he,{exact:!0,path:"/conversas/nova",component:ge}),l.a.createElement(c.b,{exact:!0,path:"/o-que-e-csa",component:fe}),l.a.createElement(c.b,{exact:!0,path:"/login",render:function(e){return l.a.createElement(pe,Object.assign({},e,{setUser:d}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(m.a,null,l.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,n){e.exports=n.p+"static/media/banner.ec1d300a.jpg"}},[[213,1,2]]]);
//# sourceMappingURL=main.f7769489.chunk.js.map